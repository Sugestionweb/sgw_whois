<?xml version="1.0"?>
<odoo>
	<!-- View Service Tree -->
	<record id="view_service_tree" model="ir.ui.view">
		<field name="name">sgw_hosting.service.tree</field>
		<field name="model">sgw.service</field>
		<field name="arch" type="xml">
			<tree string="Service">
				<field name="number" />
				<field name="name" />
				<field name="partner_id" />
				<field name="start_date" />
				<field name="prolong" />
				<field name="next_expiration_date" />
				<field name="company_id" groups="base.group_multi_company" />
			</tree>
		</field>
	</record>

	<!-- View Service Form -->
	<record id="view_sgw_service_form" model="ir.ui.view">
		<field name="name">sgw_hosting.service.form</field>
		<field name="model">sgw.service</field>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<form string="Agreement" version="7.0">
				<header>
					<button name="generate_initial_order"
						string="Generate initial order" class="oe_highlight" type="object"
						states="empty" />
					<button name="generate_next_year_orders"
						string="Generate next year orders" type="object" />
					<button name="read_orders_sale_recurring"
						string="Read Existent Orders " class="oe_highlight" type="object" />

				</header>
				<sheet>
					<group>
						<group>
							<field name="name" />
							<field name="partner_id" domain="[('customer','=',True)]" />
							<field name="company_id" groups="base.group_multi_company" />
						</group>
						<group>
							<field name="active" />
							<field name="number" />
							<field name="start_date"
								on_change="onchange_start_date(start_date)"
								attrs="{'readonly':[('state','!=','empty')]}" />
						</group>
					</group>
					<group>
						<group>
							<field name="prolong"
								attrs="{'readonly':[('renewal_state','!=','not_renewed')]}" />
							<field name="next_expiration_date" />
							<field name="last_renovation_date" readonly="1"
								attrs="{'invisible': [('prolong','!=', 'recurrent')]}" />
							<field name="state" invisible="1" />
							<field name="renewal_state" invisible="1" />
						</group>
						<group>
							<group attrs="{'invisible': [('prolong','=', 'fixed')]}"
								colspan="4" col="4">
								<field name="prolong_interval"
									attrs="{'required': [('prolong', '!=', 'fixed')]}" />
								<field name="prolong_unit"
									attrs="{'required': [('prolong', '!=', 'fixed')]}" />
							</group>
							<group attrs="{'invisible': [('prolong','!=', 'fixed')]}"
								colspan="4" col="2">
								<field name="end_date"
									attrs="{'required': [('prolong', '=', 'fixed')]}" />
							</group>
						</group>
					</group>
					<notebook colspan="4">
						<page string="Lines">
							<field name="service_line">
								<tree string="Service lines">
									<field name="active_chk" />
									<field name="product_id"
										on_change="onchange_product_id(product_id)" />
									<field name="additional_description" />
									<field name="quantity" />
									<field name="discount" />
									<field name="ordering_interval" />
									<field name="ordering_unit" />
									<field name="last_order_date" readonly="True" />
									<field name="server_id"></field>
									<field name="domain_supplier"></field>
									<field name="domain_cost"></field>
<!-- 									<field name="control_panel"></field> -->
<!-- 									<field name="user_control_panel"></field> -->
<!-- 									<field name="webmail"></field> -->
								</tree>
							</field>
						</page>
						<page string="Orders">
							<field colspan="4" mode="tree" name="order_line"
								 widget="one2many_list" default_order="id desc" nolabel="1" />
						</page>
						<page string="Renewals"
							attrs="{'invisible': [('prolong','!=', 'recurrent')]}">
							<field colspan="4" mode="tree" name="renewal_line"
								widget="one2many_list" nolabel="1" />
						</page>
					</notebook>
					<div class="oe_clear" />
					<field name="notes" />
				</sheet>
				<!-- <div class="oe_chatter"> -->
				<!-- <field name="message_follower_ids" widget="mail_followers" -->
				<!-- groups="base.group_user" /> -->
				<!-- <field name="message_ids" widget="mail_thread" -->
				<!-- placeholder="Share a message..." /> -->
				<!-- </div> -->
			</form>
		</field>
	</record>


	<!-- Views -->
	<record model="ir.ui.view" id="view_sgw_service_order_tree">
		<field name="name">sgw_hosting.service.order.tree</field>
		<field name="model">sgw.service.order</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<tree string="Service orders">
				<field name="order_id" />
				<field name="date_order" />
				<field name="confirmed" />
			</tree>
		</field>
	</record>

	<!-- View Service Line Tree -->
	<record id="view_service_line_tree" model="ir.ui.view">
		<field name="name">sgw_hosting.service.line.tree</field>
		<field name="model">sgw.service.line</field>
		<field name="arch" type="xml">
			<tree string="Service Line">
				<field name="partner_id" />
				<field name="server_id" />
				<field name="product_id" />
				<field name="name" />
				<field name="additional_description" />
				<field name="ordering_interval" />
				<field name="ordering_unit" />
			</tree>
		</field>
	</record>


</odoo>
